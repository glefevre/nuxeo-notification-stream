<?xml version="1.0"?>
<component name="org.nuxeo.ecm.platform.notification.test.basic.config">

  <extension target="org.nuxeo.ecm.platform.notification.NotificationComponent" point="dispatcher">
    <dispatcher id="inApp" class="org.nuxeo.ecm.platform.notification.dispatcher.CounterDispatcher" />
    <dispatcher id="log" class="org.nuxeo.ecm.platform.notification.dispatcher.CounterDispatcher">
      <property name="my-secret-key">my-secret-value</property>
    </dispatcher>
  </extension>

  <extension target="org.nuxeo.ecm.platform.notification.NotificationComponent" point="resolver">
    <resolver id="fileCreated" class="org.nuxeo.ecm.platform.notification.resolver.FileCreatedResolver" />
    <resolver id="fileUpdated" class="org.nuxeo.ecm.platform.notification.resolver.FileUpdatedResolver" />
    <resolver id="complexKey" class="org.nuxeo.ecm.platform.notification.resolver.ComplexSubsKeyResolver" />
  </extension>

  <extension target="org.nuxeo.ecm.platform.notification.NotificationComponent" point="settings">
    <settings id="fileCreated">
      <dispatcher name="inApp" default="true" />
      <dispatcher name="log" default="false" />
    </settings>
    <settings id="fileUpdated">
      <dispatcher name="inApp" enabled="false" />
      <dispatcher name="log" enabled="false" />
    </settings>
  </extension>
</component>